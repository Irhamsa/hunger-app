{"version":3,"file":"app~2ace9197.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/utils/restaurant-reviews-initiator.js","webpack://restaurant-apps/./src/scripts/utils/retaurant-menu-item-initiator.js","webpack://restaurant-apps/./src/scripts/utils/submit-review-initiator.js","webpack://restaurant-apps/./src/scripts/utils/sw-register.js"],"sourcesContent":["import { createCustomerReviewTemplate } from '../views/templates/template-creator';\r\n\r\nconst RestaurantReviewsInitiator = {\r\n  async init({ containerReviews, reviews }) {\r\n    this._reviews = reviews;\r\n    this._containerReviews = containerReviews;\r\n\r\n    await this._render();\r\n    await this._loadMoreButtonHandler();\r\n  },\r\n\r\n  async _createAllCustomerReviewsTemplate(indexLimit) {\r\n    let reviewsTemplate = '';\r\n    this._reviews.forEach((review, index) => {\r\n      (index < indexLimit) ? reviewsTemplate += createCustomerReviewTemplate(review) : reviewsTemplate += createCustomerReviewTemplate(review, 'hidden');\r\n    });\r\n    return reviewsTemplate;\r\n  },\r\n\r\n  async _loadMoreButtonHandler() {\r\n    const loadMoreReviewButton = document.querySelector('.load_more_review');\r\n    const customerReviewsLength = this._reviews.length;\r\n\r\n    (customerReviewsLength <= 5) ? loadMoreReviewButton.classList.add('hidden') : null;\r\n    (customerReviewsLength > 5 && loadMoreReviewButton.classList.contains('hidden')) ? loadMoreReviewButton.classList.remove('hidden') : null;\r\n\r\n    loadMoreReviewButton.addEventListener('click', async (event) => {\r\n      await this._renderAll();\r\n      event.target.classList.add('hidden');\r\n    });\r\n\r\n    loadMoreReviewButton.addEventListener('keypress', async (event) => {\r\n      if (event.key === 'Enter') {\r\n        await this._renderAll();\r\n      }\r\n    });\r\n  },\r\n\r\n  async _renderAll() {\r\n    const hiddenReviews = document.querySelectorAll('.customer__review.hidden');\r\n\r\n    hiddenReviews.forEach((review) => {\r\n      review.classList.remove('hidden');\r\n      review.classList.add('show');\r\n    });\r\n  },\r\n\r\n  async _render(indexLimit = 5) {\r\n    this._containerReviews.innerHTML = await this._createAllCustomerReviewsTemplate(indexLimit);\r\n  },\r\n};\r\n\r\nexport default RestaurantReviewsInitiator;\r\n","import { createRestaurantMenuItemTemplate } from '../views/templates/template-creator';\r\n\r\nconst RestaurantMenuItemInitiator = {\r\n  init(foods, drinks) {\r\n    const menus = {\r\n      foodsList: '',\r\n      drinksList: '',\r\n    };\r\n\r\n    foods.forEach((food) => {\r\n      menus.foodsList += createRestaurantMenuItemTemplate(food.name);\r\n    });\r\n\r\n    drinks.forEach((drink) => {\r\n      menus.drinksList += createRestaurantMenuItemTemplate(drink.name);\r\n    });\r\n\r\n    return menus;\r\n  },\r\n};\r\n\r\nexport default RestaurantMenuItemInitiator;\r\n","import RestaurantDBSource from '../data/restaurantdb-source';\r\nimport RestaurantReviewsInitiator from './restaurant-reviews-initiator';\r\n\r\nconst SubmitReviewInitiator = {\r\n  init(id) {\r\n    const submitButton = document.getElementById('buttonSubmitReview');\r\n\r\n    this._id = id;\r\n    this._isOnline();\r\n\r\n    submitButton.addEventListener('click', (event) => {\r\n      this._submitReview(event);\r\n    });\r\n  },\r\n\r\n  _isOnline() {\r\n    const inputName = document.getElementById('inputName');\r\n    const inputReview = document.getElementById('inputReview');\r\n    const submitButton = document.getElementById('buttonSubmitReview');\r\n    const message = document.querySelector('.message.add_review');\r\n\r\n    if (!window.navigator.onLine) {\r\n      (message.classList.contains('hidden')) ? message.classList.remove('hidden') : null;\r\n      (!inputName.classList.contains('hidden')) ? inputName.classList.add('hidden') : null;\r\n      (!inputReview.classList.contains('hidden')) ? inputReview.classList.add('hidden') : null;\r\n      (!submitButton.classList.contains('hidden')) ? submitButton.classList.add('hidden') : null;\r\n    } else {\r\n      (!message.classList.contains('hidden')) ? message.classList.add('hidden') : null;\r\n      (inputName.classList.contains('hidden')) ? inputName.classList.remove('hidden') : null;\r\n      (inputReview.classList.contains('hidden')) ? inputReview.classList.remove('hidden') : null;\r\n      (submitButton.classList.contains('hidden')) ? submitButton.classList.remove('hidden') : null;\r\n    }\r\n  },\r\n\r\n  async _submitReview(event) {\r\n    const inputName = document.getElementById('inputName');\r\n    const inputReview = document.getElementById('inputReview');\r\n\r\n    if (inputName.value !== '' || inputReview.value !== '') {\r\n      event.preventDefault();\r\n    } else {\r\n      inputName.dataset.submit = 'false';\r\n      inputReview.dataset.submit = 'false';\r\n      return;\r\n    }\r\n\r\n    inputName.dataset.submit = 'true';\r\n    inputReview.dataset.submit = 'true';\r\n\r\n    const data = {\r\n      'id': this._id,\r\n      'name': inputName.value,\r\n      'review': inputReview.value,\r\n    };\r\n    const response = await RestaurantDBSource.customerReviews(data);\r\n    if (response === 'error') return;\r\n    const responseReviews = response.customerReviews.reverse();\r\n    await RestaurantReviewsInitiator.init({\r\n      containerReviews: document.querySelector('.customer__reviews_list'),\r\n      reviews: responseReviews,\r\n    });\r\n\r\n    inputReview.value = '';\r\n  },\r\n};\r\n\r\nexport default SubmitReviewInitiator;\r\n","import * as WorkboxWindow from 'workbox-window';\r\n\r\nconst swRegister = async () => {\r\n  if (!('serviceWorker' in navigator)) {\r\n    console.log('Service Worker not supported in the browser');\r\n    return;\r\n  }\r\n\r\n  const wb = new WorkboxWindow.Workbox('./sw.bundle.js');\r\n\r\n  try {\r\n    await wb.register();\r\n    console.log('Service worker registered');\r\n  } catch (error) {\r\n    console.log('Failed to register service worker', error);\r\n  }\r\n};\r\n\r\nexport default swRegister;\r\n"],"names":["createCustomerReviewTemplate","RestaurantReviewsInitiator","init","containerReviews","reviews","_reviews","_containerReviews","_render","_loadMoreButtonHandler","_createAllCustomerReviewsTemplate","indexLimit","reviewsTemplate","forEach","review","index","loadMoreReviewButton","document","querySelector","customerReviewsLength","length","classList","add","contains","remove","addEventListener","event","_renderAll","target","key","hiddenReviews","querySelectorAll","innerHTML","createRestaurantMenuItemTemplate","RestaurantMenuItemInitiator","foods","drinks","menus","foodsList","drinksList","food","name","drink","RestaurantDBSource","SubmitReviewInitiator","id","submitButton","getElementById","_id","_isOnline","_submitReview","inputName","inputReview","message","window","navigator","onLine","value","preventDefault","dataset","submit","data","customerReviews","response","responseReviews","reverse","WorkboxWindow","swRegister","console","log","wb","Workbox","register"],"sourceRoot":""}