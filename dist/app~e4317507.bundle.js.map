{"version":3,"file":"app~e4317507.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/routes/routes.js","webpack://restaurant-apps/./src/scripts/routes/url-parser.js","webpack://restaurant-apps/./src/scripts/utils/drawer-initiator.js","webpack://restaurant-apps/./src/scripts/utils/favorite-button-presenter.js","webpack://restaurant-apps/./src/scripts/utils/lazyload-image-initiator.js","webpack://restaurant-apps/./src/scripts/utils/nav-item-helper.js","webpack://restaurant-apps/./src/scripts/utils/preloader-initiator.js"],"sourcesContent":["import Home from '../views/pages/home';\r\nimport Detail from '../views/pages/detail';\r\nimport Favorite from '../views/pages/favorite';\r\n\r\nconst routes = {\r\n  '/': Home, // default page\r\n  '/favorite': Favorite,\r\n  '/detail/:id': Detail,\r\n};\r\n\r\nexport default routes;\r\n","const UrlParser = {\r\n  parseActiveUrlWithCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    const splitedUrl = this._urlSplitter(url);\r\n    return this._urlCombiner(splitedUrl);\r\n  },\r\n\r\n  parseActiveUrlWithoutCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    return this._urlSplitter(url);\r\n  },\r\n\r\n  _urlSplitter(url) {\r\n    const urlsSplits = url.split('/');\r\n    return {\r\n      resource: urlsSplits[1] || null,\r\n      id: urlsSplits[2] || null,\r\n      verb: urlsSplits[3] || null,\r\n    };\r\n  },\r\n\r\n  _urlCombiner(splitedUrl) {\r\n    return (splitedUrl.resource ? `/${splitedUrl.resource}` : '/') +\r\n        (splitedUrl.id ? '/:id' : '') +\r\n        (splitedUrl.verb ? `/${splitedUrl.verb}` : '');\r\n  },\r\n};\r\n\r\nexport default UrlParser;\r\n\r\n","const DrawerInitiator = {\r\n  init({button, drawer, content}) {\r\n    button.addEventListener('click', (event) => {\r\n      this._toggleDrawer(event, drawer);\r\n    });\r\n\r\n    content.addEventListener('click', (event) => {\r\n      this._closeDrawer(event, drawer);\r\n    });\r\n  },\r\n\r\n  _toggleDrawer(event, drawer) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    drawer.classList.toggle('open');\r\n  },\r\n\r\n  _closeDrawer(event, drawer) {\r\n    event.stopPropagation();\r\n    drawer.classList.remove('open');\r\n  },\r\n};\r\n\r\nexport default DrawerInitiator;\r\n","import { createFavoriteRestaurantButtonTemplate, createUnfavoriteRestaurantButtonTemplate } from '../views/templates/template-creator';\r\n\r\nconst FavoriteButtonPresenter = {\r\n  async init({ restaurant, favoriteRestaurant, favoriteButtonContainer }) {\r\n    this._favoriteButtonContainer = favoriteButtonContainer;\r\n    this._restaurant = restaurant;\r\n    this._favoriteRestaurant = favoriteRestaurant;\r\n\r\n    await this._renderButton();\r\n  },\r\n\r\n  async _renderButton() {\r\n    const { id } = this._restaurant;\r\n    if (await this._isRestaurantExist(id)) {\r\n      this._renderFavoritedButton();\r\n    } else {\r\n      this._renderFavoriteButton();\r\n    }\r\n  },\r\n\r\n  async _isRestaurantExist(id) {\r\n    const restaurant = await this._favoriteRestaurant.getRestaurant(id);\r\n    return !!restaurant;\r\n  },\r\n\r\n  async _addTofavorite() {\r\n    await this._favoriteRestaurant.putRestaurant(this._restaurant);\r\n  },\r\n\r\n  async _removeFromfavorite() {\r\n    await this._favoriteRestaurant.deleteRestaurant(this._restaurant.id);\r\n  },\r\n\r\n  _renderFavoriteButton() {\r\n    this._favoriteButtonContainer.innerHTML = createFavoriteRestaurantButtonTemplate();\r\n\r\n    const favoriteButton = document.querySelector('.favorite');\r\n\r\n    favoriteButton.addEventListener('click', (event) => {\r\n      event.stopPropagation();\r\n      this._renderFavoritedButton(this._favoriteButtonContainer);\r\n      this._addTofavorite();\r\n    });\r\n  },\r\n\r\n  _renderFavoritedButton() {\r\n    this._favoriteButtonContainer.innerHTML = createUnfavoriteRestaurantButtonTemplate();\r\n\r\n    const favoritedButton = document.querySelector('.favorited');\r\n\r\n    favoritedButton.addEventListener('click', (event) => {\r\n      event.stopPropagation();\r\n      this._renderFavoriteButton(this._favoriteButtonContainer);\r\n      this._removeFromfavorite();\r\n    });\r\n  },\r\n};\r\n\r\nexport default FavoriteButtonPresenter;\r\n","const LazyLoadimageInitiator = {\r\n  init({ root, rootMargin, threshold, isMultipleTarget, target }) {\r\n    const options = {\r\n      root,\r\n      rootMargin,\r\n      threshold,\r\n    };\r\n    this._observer(this._handleIntersect, options, isMultipleTarget, target);\r\n  },\r\n\r\n  _observer( callback, options, isMultipleTarget, target ) {\r\n    const observer = new IntersectionObserver(callback, options);\r\n    if (isMultipleTarget) {\r\n      const targetElement = Array.from(target);\r\n      targetElement.forEach((element) => {\r\n        observer.observe(element);\r\n      });\r\n      return;\r\n    }\r\n\r\n    observer.observe(target);\r\n  },\r\n\r\n  _handleIntersect(entries) {\r\n    entries.forEach((entry) => {\r\n      if (entry.isIntersecting) {\r\n        const imgElement = entry.target.querySelector('img');\r\n        imgElement.setAttribute('src', imgElement.dataset.src);\r\n      }\r\n    });\r\n  },\r\n};\r\n\r\nexport default LazyLoadimageInitiator;\r\n","const NavItemHelper = {\r\n  nonActiveAllNavLinkItem() {\r\n    const navItemElements = document.querySelectorAll('.nav__item a.active');\r\n    navItemElements.forEach((navItem) => {\r\n      navItem.classList.remove('active');\r\n    });\r\n  },\r\n\r\n  activeNavlinkItem(navItem) {\r\n    navItem.classList.add('active');\r\n  },\r\n};\r\n\r\n\r\nexport default NavItemHelper;\r\n","import { createPreloaderTemplate } from '../views/templates/template-creator';\r\n\r\nconst PreloaderInitiator = {\r\n  init({ action, parentELement }) {\r\n    switch (action) {\r\n      case 'create':\r\n        parentELement.innerHTML += createPreloaderTemplate();\r\n        break;\r\n      case 'show':\r\n        (!parentELement.querySelector('.preloader').classList.contains('hidden')) ? parentELement.querySelector('.preloader').classList.remove('hidden') : null;\r\n      case 'remove':\r\n        parentELement.querySelector('.preloader').remove();\r\n        break;\r\n      default:\r\n        console.error('unknown action.');\r\n        console.error('list of available actions create, show and hidden.');\r\n    }\r\n  },\r\n};\r\n\r\nexport default PreloaderInitiator;\r\n"],"names":["Home","Detail","Favorite","routes","UrlParser","parseActiveUrlWithCombiner","url","window","location","hash","slice","toLowerCase","splitedUrl","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","urlsSplits","split","resource","id","verb","DrawerInitiator","init","button","drawer","content","addEventListener","event","_toggleDrawer","_closeDrawer","preventDefault","stopPropagation","classList","toggle","remove","createFavoriteRestaurantButtonTemplate","createUnfavoriteRestaurantButtonTemplate","FavoriteButtonPresenter","restaurant","favoriteRestaurant","favoriteButtonContainer","_favoriteButtonContainer","_restaurant","_favoriteRestaurant","_renderButton","_isRestaurantExist","_renderFavoritedButton","_renderFavoriteButton","getRestaurant","_addTofavorite","putRestaurant","_removeFromfavorite","deleteRestaurant","innerHTML","favoriteButton","document","querySelector","favoritedButton","LazyLoadimageInitiator","root","rootMargin","threshold","isMultipleTarget","target","options","_observer","_handleIntersect","callback","observer","IntersectionObserver","targetElement","Array","from","forEach","element","observe","entries","entry","isIntersecting","imgElement","setAttribute","dataset","src","NavItemHelper","nonActiveAllNavLinkItem","navItemElements","querySelectorAll","navItem","activeNavlinkItem","add","createPreloaderTemplate","PreloaderInitiator","action","parentELement","contains","console","error"],"sourceRoot":""}