{"version":3,"file":"app~49ea73a0.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/component/restaurant-detail.js","webpack://restaurant-apps/./src/scripts/component/restaurant-item.js","webpack://restaurant-apps/./src/scripts/component/restaurant-list.js","webpack://restaurant-apps/./src/scripts/data/favorite-restaurant-idb.js","webpack://restaurant-apps/./src/scripts/globals/api-endpoint.js","webpack://restaurant-apps/./src/scripts/data/restaurantdb-source.js","webpack://restaurant-apps/./src/scripts/globals/config.js","webpack://restaurant-apps/./src/scripts/index.js"],"sourcesContent":["import {LitElement} from 'lit';\r\nimport PreloaderInitiator from '../utils/preloader-initiator';\r\nimport { createRestaurantDetailTemplate } from '../views/templates/template-creator';\r\nimport RestaurantMenuItemInitiator from '../utils/retaurant-menu-item-initiator';\r\n\r\nclass RestaurantDetail extends LitElement {\r\n  connectedCallback() {\r\n    const hero = document.getElementById('hero');\r\n    hero.classList.add('hidden');\r\n    this.scrollIntoView();\r\n    PreloaderInitiator.init({ action: 'create', parentELement: this });\r\n  }\r\n\r\n  set config({ restaurant }) {\r\n    this._restaurant = restaurant;\r\n    this._foods = restaurant.menus.foods;\r\n    this._drinks = restaurant.menus.drinks;\r\n\r\n    this.renderDetail();\r\n  }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n\r\n  menuItemTemplate() {\r\n    return RestaurantMenuItemInitiator.init(this._foods, this._drinks);\r\n  }\r\n\r\n  renderDetail() {\r\n    this.innerHTML = createRestaurantDetailTemplate(this._restaurant, this.menuItemTemplate());\r\n  }\r\n}\r\n\r\ncustomElements.define('restaurant-detail', RestaurantDetail);\r\n","import {LitElement} from 'lit';\r\nimport { createRestaurantItemTemplate } from '../views/templates/template-creator';\r\n\r\nclass RestaurantItem extends LitElement {\r\n  set config({ restaurant}) {\r\n    this._restaurant = restaurant;\r\n  }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n\r\n  render() {\r\n    return createRestaurantItemTemplate(this._restaurant);\r\n  }\r\n};\r\n\r\ncustomElements.define('restaurant-item', RestaurantItem);\r\n\r\n","import {LitElement} from 'lit';\r\nimport './restaurant-item';\r\nimport PreloaderInitiator from '../utils/preloader-initiator';\r\n\r\nclass RestaurantList extends LitElement {\r\n  connectedCallback() {\r\n    PreloaderInitiator.init({ action: 'create', parentELement: this });\r\n    const hero = document.getElementById('hero');\r\n    hero.classList.contains('hidden') ? hero.classList.remove('hidden') : null;\r\n  }\r\n\r\n  set config({ restaurants }) {\r\n    this._restaurants = restaurants;\r\n    this.renderRestaurantItems(this._restaurants);\r\n  }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n\r\n  renderRestaurantItems(restaurants) {\r\n    PreloaderInitiator.init({ action: 'remove', parentELement: this });\r\n    restaurants.forEach((restaurant) => {\r\n      const restaurantItem = document.createElement('restaurant-item');\r\n      restaurantItem.setAttribute('tabindex', '0');\r\n      restaurantItem.config = {\r\n        restaurant: restaurant,\r\n      };\r\n      this.appendChild(restaurantItem);\r\n    });\r\n  }\r\n}\r\n\r\ncustomElements.define('restaurant-list', RestaurantList);\r\n","import { openDB } from 'idb';\r\nimport CONFIG from '../globals/config';\r\n\r\nconst { DATABASE_NAME, DATABASE_VERSION, OBJECT_STORE_NAME } = CONFIG;\r\n\r\nconst dbPromise = openDB(DATABASE_NAME, DATABASE_VERSION, {\r\n  upgrade(database) {\r\n    database.createObjectStore(OBJECT_STORE_NAME, { keyPath: 'id' });\r\n  },\r\n});\r\n\r\nconst FavoriteRestaurantIdb = {\r\n  async getRestaurant(id) {\r\n    if (!id) {\r\n      return;\r\n    }\r\n\r\n    return (await dbPromise).get(OBJECT_STORE_NAME, id);\r\n  },\r\n  async getAllRestaurants() {\r\n    return (await dbPromise).getAll(OBJECT_STORE_NAME);\r\n  },\r\n  async putRestaurant(restaurant) {\r\n    if (!restaurant.hasOwnProperty('id')) {\r\n      return;\r\n    }\r\n\r\n    return (await dbPromise).put(OBJECT_STORE_NAME, restaurant);\r\n  },\r\n  async deleteRestaurant(id) {\r\n    return (await dbPromise).delete(OBJECT_STORE_NAME, id);\r\n  },\r\n};\r\n\r\nexport default FavoriteRestaurantIdb;\r\n","import CONFIG from './config';\r\n\r\nconst API_ENDPOINT = {\r\n  HOME: `${CONFIG.BASE_URL}list`,\r\n  DETAIL: (id) => `${CONFIG.BASE_URL}detail/${id}`,\r\n  REVIEW: `${CONFIG.BASE_URL}review`,\r\n};\r\n\r\nexport default API_ENDPOINT;\r\n","import API_ENDPOINT from '../globals/api-endpoint';\r\n\r\nclass RestaurantDBSource {\r\n  static async restaurantItem() {\r\n    try {\r\n      const response = await fetch(API_ENDPOINT.HOME);\r\n      const responseJson = await response.json();\r\n      return responseJson;\r\n    } catch (error) {\r\n      console.error(error);\r\n      return 'error';\r\n    }\r\n  }\r\n\r\n  static async restaurantDetail(id) {\r\n    try {\r\n      const response = await fetch(API_ENDPOINT.DETAIL(id));\r\n      const responseJson = await response.json();\r\n      return responseJson;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return 'error';\r\n    }\r\n  }\r\n\r\n  static async customerReviews(data) {\r\n    try {\r\n      if (data.name === '' || data.date === '') return 'error';\r\n      const response = await fetch(API_ENDPOINT.REVIEW, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(data),\r\n      });\r\n      const responseJson = await response.json();\r\n      return responseJson;\r\n    } catch (error) {\r\n      return 'error';\r\n    }\r\n  }\r\n}\r\n\r\nexport default RestaurantDBSource;\r\n","const CONFIG = {\r\n  BASE_URL: 'https://restaurant-api.dicoding.dev/',\r\n  BASE_IMAGE_URL: 'https://restaurant-api.dicoding.dev/images/',\r\n  PLACEHOLDER_IMAGE_PATH: './images/placeholder-image.gif',\r\n  DEFAULT_LANGUAGE: 'en-us',\r\n  CACHE_NAME: 'HungerApps-V1',\r\n  DATABASE_NAME: 'hunger-apps-database',\r\n  DATABASE_VERSION: 1,\r\n  OBJECT_STORE_NAME: 'restaurant',\r\n};\r\n\r\nexport default CONFIG;\r\n","import 'regenerator-runtime'; /* for async await transpile */\nimport '../styles/index.scss';\nimport App from './views/app';\nimport swRegister from './utils/sw-register';\n\nconst app = new App({\n  button: document.querySelector('#hamburger'),\n  drawer: document.querySelector('#drawer'),\n  content: document.querySelector('#mainContent'),\n});\n\nwindow.addEventListener('hashchange', () => {\n  app.renderPage();\n});\n\nwindow.addEventListener('load', async () => {\n  app.renderPage();\n  await swRegister();\n});\n"],"names":["LitElement","PreloaderInitiator","createRestaurantDetailTemplate","RestaurantMenuItemInitiator","RestaurantDetail","hero","document","getElementById","classList","add","scrollIntoView","init","action","parentELement","restaurant","_restaurant","_foods","menus","foods","_drinks","drinks","renderDetail","innerHTML","menuItemTemplate","customElements","define","createRestaurantItemTemplate","RestaurantItem","RestaurantList","contains","remove","restaurants","_restaurants","renderRestaurantItems","forEach","restaurantItem","createElement","setAttribute","config","appendChild","openDB","CONFIG","DATABASE_NAME","DATABASE_VERSION","OBJECT_STORE_NAME","dbPromise","upgrade","database","createObjectStore","keyPath","FavoriteRestaurantIdb","getRestaurant","id","get","getAllRestaurants","getAll","putRestaurant","hasOwnProperty","put","deleteRestaurant","API_ENDPOINT","HOME","BASE_URL","DETAIL","REVIEW","RestaurantDBSource","fetch","response","json","responseJson","console","error","log","data","name","date","method","headers","body","JSON","stringify","BASE_IMAGE_URL","PLACEHOLDER_IMAGE_PATH","DEFAULT_LANGUAGE","CACHE_NAME","App","swRegister","app","button","querySelector","drawer","content","window","addEventListener","renderPage"],"sourceRoot":""}